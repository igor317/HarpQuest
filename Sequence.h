/**
 * Sequence.h - Класс для хранения и сравнения последовательностей
 * 
 * Этот класс используется для работы с последовательностями "струн".
 * Он позволяет хранить последовательность нажатий, добавлять новые
 * значения и сравнивать последовательности между собой.
 * 
 * В игре HarpQuest используются две последовательности:
 * - Правильная последовательность, которую нужно угадать
 * - Последовательность нажатий игрока
 */

#ifndef SEQUENCE_H
#define SEQUENCE_H

#include "config.h"
#include <Arduino.h>

class Sequence
{
private:
    // Массив для хранения значений последовательности
    byte m_Values[MAX_SEQUENCE_LENGTH];
    
    // Текущая длина последовательности
    byte m_Length = 0;
public:
    /**
     * Конструктор по умолчанию
     * Создает пустую последовательность
     */
    Sequence();
    
    /**
     * Добавляет новое значение в конец последовательности
     * 
     * @param value значение для добавления (обычно 1-5, номер струны)
     * @return true если значение успешно добавлено, false если последовательность полная
     */
    bool AddValue(byte value);
    
    /**
     * Возвращает значение по указанному индексу
     * 
     * @param index индекс элемента (начиная с 0)
     * @return значение элемента на указанной позиции
     */
    byte GetValue(byte index);
    
    /**
     * Возвращает текущую длину последовательности
     * 
     * @return количество элементов в последовательности
     */
    byte Length();
    
    /**
     * Очищает последовательность (устанавливает длину в 0)
     */
    void Clear();
    
    /**
     * Сравнивает текущую последовательность с другой
     * 
     * @param sequence последовательность для сравнения
     * @return true если последовательности совпадают, false в противном случае
     */
    bool Compare(Sequence& sequence);
};

#endif